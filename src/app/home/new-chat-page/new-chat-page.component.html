<div class="new-chat-page-container">

  <div class="modal is-active">
    <div class="modal-background"></div>
    <div class="modal-content">

      <article class="message is-dark">
        <div class="message-header">
          <p>New Chat</p>
          <button class="delete" (click)=closePage()></button>
        </div>
        <div class="message-body">

          <div class="tabs is-toggle is-medium is-centered">
            <ul>
              <li #create_tab (click)="isInitiating = true; create_tab.focus()">
                <a>Create Chat</a>
              </li>
              <li #join_tab (click)="isInitiating = false; join_tab.focus()" >
                <a>Join Chat</a>
              </li>
            </ul>
          </div>

          <div class="create-chat-form" [hidden]="!isInitiating">
            <p>Create a new chat</p>
            <div class="field">
              <p class="control has-icons-left has-icons-right">
                <input #join_name_input class="input" placeholder="Name">
              </p>
            </div>

            <div class="field">
              <button class="button" (click)=initComAndCreateOffer()>Create Offer</button>
            </div>

            <div class="field">
              <textarea #local_offer [className]=localOfferTextElClass type="text" placeholder="your offer should appear here" readonly></textarea>
            </div>

            <div class="field">
              <textarea #remote_answer [className]=remoteAnswerTextElClass type="text" placeholder="paste answer here"></textarea>
            </div>

            <div class="field">
              <button class="button is-primary" (click)=acceptAnswer(remote_answer.value)>
                Accept Answer
              </button>
            </div>

            <div class="field">
              <p>Connection State: {{ connectionState }}</p>
              <p>Ice Connection State: {{ iceConnectionState }}</p>
            </div>

            <div class="field">
              <button class="button is-primary" (click)=createNewChat(join_name_input.value)>
                Create Chat
              </button>
            </div>

          </div>

          <div class="join-chat-form" [hidden]="isInitiating">
            <p>Join a chat</p>
            <div class="field">
              <p class="control has-icons-left has-icons-right">
                <input #name_input class="input" placeholder="Name">
              </p>
            </div>

            <div class="field">
              <textarea #remote_offer [className]=remoteOfferTextElClass type="text" placeholder="paste offer here"></textarea>
            </div>

            <div class="field">
              <button class="button" (click)=acceptComAndCreateAnswer(remote_offer.value)>
                Create Answer
              </button>
            </div>

            <div class="field">
              <textarea #local_answer [className]=localAnswerTextElClass type="text" placeholder="your answer should appear here" readonly></textarea>
            </div>

            <div class="field">
              <p>Connection State: {{ connectionState }}</p>
              <p>Ice Connection State: {{ iceConnectionState }}</p>
            </div>

            <div class="field">
              <button class="button is-primary" (click)=createNewChat(name_input.value)>
                Create Chat
              </button>
            </div>

          </div>

        </div>
      </article>

    </div>
  </div>

 

</div>
